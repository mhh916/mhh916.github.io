<html><head><meta charset="utf-8">
</head>

<body>

<canvas id="canvas" width="500" height="500" style="border: 1px solid black"></canvas>

<script>

var canvas = document.getElementById("canvas");
var context = canvas.getContext("2d");

canvas.addEventListener("mousedown", handleMouseDown);
canvas.addEventListener("mousemove", handleMouseMove);
canvas.addEventListener("mouseup", handleMouseUp);

  
var p0 = {x: 0, y:0};
var p1 = {x: 0, y:0};

 
var isdown = 0;

 
display();


function setPixel(x, y) {
	context.fillRect(x, y, 1, 1);
}
  

function handleMouseUp(event)
{
	isdown = 0;
	p1.x = event.clientX - canvas.offsetLeft;
	p1.y = event.clientY - canvas.offsetTop;
	display();
}

  

function handleMouseDown(event)
{
	isdown = 1;
	p0.x = event.clientX - canvas.offsetLeft;
	p0.y = event.clientY - canvas.offsetTop;
	display();

}

  

function handleMouseMove(event)

{
	if (isdown == 0)
		return;
	
  	p1.x = event.clientX - canvas.offsetLeft;
	p1.y = event.clientY - canvas.offsetTop;

	display();
}



function bresenham(p0, p1)
{	//Lines 70 - 99 in class notes
	var x1 = p0.x;
	var y1 = p0.y;
	var x2 = p1.x;
	var y2 = p1.y;
	
	var y = y1
	var x = x1;
	var deltaX = x2-x1
	var deltaY = y2-y1
	var slope = 0;
	
	var octant = -1;
	
	document.getElementById("slope").innerHTML = slope;
	document.getElementById("deltaX").innerHTML = deltaX;
	document.getElementById("deltaY").innerHTML = deltaY;
	
	if(deltaX >= 0){
		if(deltaY >=0 ){
			if(deltaX>deltaY){
				document.getElementById("comments").innerHTML = "1";
				octant = 1;
				slope = deltaY / deltaX;
				document.getElementById("slope").innerHTML = slope;
			}else {
				document.getElementById("comments").innerHTML = "2";
				octant = 2;
				slope = deltaX / deltaY;
				document.getElementById("slope").innerHTML = slope;
			}
		}else{
			if(deltaX + deltaY >= 0){
				document.getElementById("comments").innerHTML = "8";
				octant = 8;
				slope = deltaY / deltaX;
				document.getElementById("slope").innerHTML = slope;
			
			
			}else{
				document.getElementById("comments").innerHTML = "7";
				octant = 7;
				slope = deltaX / deltaY;
				document.getElementById("slope").innerHTML = slope;
			}	
		}
		
	}else{
		if(deltaY>0){
			if(deltaX + deltaY >= 0){
				document.getElementById("comments").innerHTML = "3";
				octant = 3;
				slope = deltaX / deltaY;
				document.getElementById("slope").innerHTML = slope;
			}else {
				document.getElementById("comments").innerHTML = "4";
				octant = 4;
				slope = deltaY / deltaX;
				document.getElementById("slope").innerHTML = slope;
			}
			}else{
			if(deltaY >= deltaX){
				document.getElementById("comments").innerHTML = "5";
				octant = 5;
				slope = deltaY / deltaX;
				document.getElementById("slope").innerHTML = slope;
			}else{
				document.getElementById("comments").innerHTML = "6";
				octant = 6;
				slope = deltaX / deltaY;
				document.getElementById("slope").innerHTML = slope;
			}
				
			
			}
		}
	switch(octant){
		case 1:
			for(var x = x1; x<=x2; x++){	
			setPixel(x, y);
			y +=slope;
			}
			break;
		case 2:
			for(var y =y1; y <=y2; y++){
			setPixel(x, y);
			x += slope;
			}
			break;
		case 3:
			for(var y =y1; y <=y2; y++){
			setPixel(x, y);
			x += slope;
			}
			break;
		case 4:
			for(var x = x1; x>=x2; x--){	
			setPixel(x, y);
			y -=slope;
			}
			break;
		case 5:
			for(var x = x1; x>=x2; x--){	
			setPixel(x, y);
			y -=slope;
			}
			break;
		case 6:
			for(var y = y1; y>=y2; y--){	
			setPixel(x, y);
			x -=slope;
			}
			break;
		case 7:
			for(var y = y1; y>=y2; y--){	
			setPixel(x, y);
			x -=slope;
			}
			break;
		case 8:
			for(var x =x1; x <=x2; x++){
			setPixel(x, y);
			y += slope;
		}
			break;
		
			
	}

}

  

function display()
{
	context.clearRect(0, 0, canvas.width, canvas.height);
	var dx = p1.x - p0.x;
	var dy = p1.y - p0.y;

	context.fillStyle = "#000000";
	context.strokeStyle = "#000000";
	
	bresenham(p0, p1); <!-- this should work before you turn in your assignment -->


	// this is what your algorithm SHOULD output, comment these when working on the algorithm
	//context.beginPath();
	//context.moveTo(p0.x, p0.y);
	//context.lineTo(p1.x, p1.y);
	//context.stroke();

}

  

</script>
<div style="float: right;  padding-right: 50%; ">
	<div style="float: left; border: solid 1px;">
	<p>Slope<br />_____________________</p>
	<p id="slope"></p>
	<p>Delta X<br />_____________________</p>
	<p id="deltaX"></p>
	<p>Delta Y<br />_____________________</p>
	<p id="deltaY"></p>
	<p>Octant<br />_____________________</p>
	<p id="comments"></p>
	</div>
</div>




</body></html>